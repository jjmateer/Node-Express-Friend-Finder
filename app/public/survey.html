<html lang="en">
<head>
    <meta charset="utf8"><script src="https://code.jquery.com/jquery-3.4.1.js"
        integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/d3js/5.9.7/d3.min.js"></script>
</head><body style="text-align:center;background-image: url(../app/background.jpg);">
        <title>Your New Friend</title>
    <div class="row">
        <div class="col-md-4"></div>
        <div class="col-md-4" style="background-color:lightgray;">
            <div class="modal fade" id="matchModal" tabindex="-1" role="dialog" aria-labelledby="matchModalLabel"
                aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="matchModalLabel">Your Match</h5>
                    <button type="button" class="close" id="closeBtn" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div id="modalContent" class="modal-body">
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-warning" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
            <h1>Survey Questions</h1>
            <form>
                <div class="form-group">
                    <p>1 = Strongly Disagree | 5 = Strongly Agree | 3 = No Opinion</p>
                    <label for="nameInput">Name (Required)</label>
                    <input type="name" class="form-control" required="true" id="nameQ" aria-describedby="nameHelp"
                        placeholder="Enter name.">
                </div>
                <div class="form-group">
                    <label for="pictureInput">Picture</label>
                    <input type="pictureQ" class="form-control" required="true" id="pictureQ"
                        placeholder="Link your picture here.">
                </div>
                <div class="form-group">
                    <label for="inputState">Question 1</label>
                    <p id="questions">You enjoy long walks on the beach.</p>
                    <select name="numQ" id="q1" class="form-control" required="true">
                        <option selected>Choose...</option>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="inputState">Question 2</label>
                    <p id="questions">Cold weather is better than hot weather.</p>
                    <select name="numQ" id="q2" class="form-control" required="true">
                        <option selected>Choose...</option>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="inputState">Question 3</label>
                    <p id="questions">Pizza is a dish best served cold.</p>
                    <select name="numQ" id="q3" class="form-control" required="true">
                        <option selected>Choose...</option>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="inputState">Question 4</label>
                    <p id="questions">You like to meet new people.</p>
                    <select name="numQ" id="q4" class="form-control" required="true">
                        <option selected>Choose...</option>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="inputState">Question 5</label>
                    <p id="questions">Your pasta water should be salty</p>
                    <select name="numQ" id="q5" class="form-control" required="true">
                        <option selected>Choose...</option>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="inputState">Question 6</label>
                    <p id="questions">You prefer to drive manual transmission cars over automatic.</p>
                    <select name="numQ" id="q6" class="form-control" required="true">
                        <option selected>Choose...</option>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="inputState">Question 7</label>
                    <p id="questions">The book always better than the movie.</p>
                    <select name="numQ" id="q7" class="form-control" required="true">
                        <option selected>Choose...</option>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="inputState">Question 8</label>
                    <p id="questions">You daydream a lot.</p>
                    <select name="numQ" id="q8" class="form-control" required="true">
                        <option selected>Choose...</option>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="inputState">Question 9</label>
                    <p id="questions"> Chocolate ice cream is better than strawberry.</p>
                    <select name="numQ" id="q9" class="form-control" required="true">
                        <option selected>Choose...</option>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="inputState">Question 10</label>
                    <p id="questions">You love waking up early.</p>
                    <select name="numQ" id="q10" class="form-control" required="true">
                        <option selected>Choose...</option>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
                <button type="submit" id="submitBtn" class="btn btn-warning btn-lg btn-block"
                    data-target="#matchModal">Submit</button>
        </div>
    </div>
    </form>
    <div class="container" style="height:30px;width:260px;">
        <a href="/api/friends" style="color:black;">Friends List</a> |
        <a href="https://github.com/jjmateer/Node-Express-Friend-Finder" style="color:black;">Github
            Repository
        </a>
    </div>
    <div class="col-md-4"></div>
    </div>
</body>
<script type="text/javascript">
    $("#submitBtn").on("click", function (event) {
        event.preventDefault()
        if ($(".form-control").val() < 1) {
            alert("Please fill out all inputs.")
            return false;
        } else {
            $("#matchModal").modal('toggle');
            var scoreArr = [
                $('#q1').val().trim(),
                $('#q2').val().trim(),
                $('#q3').val().trim(),
                $('#q4').val().trim(),
                $('#q5').val().trim(),
                $('#q6').val().trim(),
                $('#q7').val().trim(),
                $('#q8').val().trim(),
                $('#q9').val().trim(),
                $('#q10').val().trim()
            ];
            var getScores = {
                'name': $('#nameQ').val().trim(),
                'picture': $('#pictureQ').val().trim(),
                'score': scoreArr
            }
            var currentURL = window.location.origin;
            $.post(currentURL + "/api/friends", getScores, function (data) {
                $("#modalContent").html(`<p style="font-size:40px;"> ${data.name} <p> <br> <img style="height:250px;width:250px;" src=${data.picture}> `);
            });
        }
    })
</script>
<style>
    #questions {
        font-size: 20px;
    }
    label {
        font-size: 30px;
    }
</style>

</html>